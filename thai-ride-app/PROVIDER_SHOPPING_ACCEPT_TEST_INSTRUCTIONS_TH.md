# 🧪 คำแนะนำทดสอบ - รับงาน Shopping Order

**วันที่**: 2026-01-27  
**ปัญหาที่แก้**: Provider กดรับงานแล้วยังแสดง "รอรับงาน"

---

## ✅ ปัญหาถูกแก้ไขแล้ว!

เราได้แก้ไข **RLS Policy** ใน database แล้ว ตอนนี้ Provider สามารถรับงาน Shopping order ได้ปกติ

---

## 📋 วิธีทดสอบ

### ขั้นตอนที่ 1: เข้าหน้างาน

1. เปิดแอพในฐานะ **Provider**
2. ไปที่หน้า **งาน** (Orders)
3. คุณจะเห็นงาน Shopping order หมายเลข: **SHP-20260127-350085**

### ขั้นตอนที่ 2: รับงาน

1. กดปุ่ม **"รับงาน ฿57"** (สีเขียว)
2. รอสักครู่ (ประมาณ 1-2 วินาที)
3. ระบบจะพาคุณไปหน้ารายละเอียดงานอัตโนมัติ

### ขั้นตอนที่ 3: ตรวจสอบหน้ารายละเอียด

คุณควรเห็น:

```
┌─────────────────────────────────────┐
│ ← กำลังไปซื้อของ                    │ ✅ ต้องเป็นข้อความนี้
├─────────────────────────────────────┤
│ รายได้ที่คุณจะได้รับ                │
│ ฿57                                 │
├─────────────────────────────────────┤
│ 👤 ลูกค้า                           │
│ [โทร] [แชท]                         │
├─────────────────────────────────────┤
│ 🏪 ร้านค้า                          │ ✅ ต้องมีไอคอนร้านค้า
│ ชุมชนหลังด่าน, สุโหงโก-ลก          │
│ [เปิดแผนที่นำทาง]                   │
├─────────────────────────────────────┤
│ 📦 รายการสินค้า (3 รายการ)          │ ✅ ต้องมีรายการสินค้า
│ • ปะเสมส์ x1                        │
│ • ป่าเสมส์ x1                       │
│ • อำเภอสุโหงโก-ลก x1                │
├─────────────────────────────────────┤
│ 🏠 ที่อยู่จัดส่ง                     │ ✅ ต้องมีที่อยู่จัดส่ง
│ บ้าน                                │
├─────────────────────────────────────┤
│ [ยกเลิก] [เริ่มซื้อของ]             │ ✅ ปุ่มต้องเป็น "เริ่มซื้อของ"
└─────────────────────────────────────┘
```

---

## ❌ สิ่งที่ **ไม่ควร** เห็น

ถ้าคุณเห็นข้อความนี้ แสดงว่ายังมีปัญหา:

```
⏳ รอรับงาน
งานนี้ยังไม่ได้รับ กรุณารับงานก่อน
```

---

## 🔄 ถ้ายังมีปัญหา

### วิธีที่ 1: Hard Refresh (แนะนำ)

**iOS Safari:**

1. กด Settings (⚙️) ใน Safari
2. เลือก "Clear History and Website Data"
3. ปิดแอพ Safari ทั้งหมด
4. เปิดแอพใหม่

**Android Chrome:**

1. กด Menu (⋮) ใน Chrome
2. เลือก "Settings" → "Privacy"
3. เลือก "Clear browsing data"
4. เลือก "Cached images and files"
5. กด "Clear data"
6. ปิดแอพ Chrome ทั้งหมด
7. เปิดแอพใหม่

### วิธีที่ 2: ลองรับงานใหม่

1. กลับไปหน้า **งาน** (Orders)
2. ลองกดรับงานอีกครั้ง
3. ถ้ายังไม่ได้ ให้ทำ Hard Refresh (วิธีที่ 1)

### วิธีที่ 3: แจ้งปัญหา

ถ้าลองทั้ง 2 วิธีแล้วยังไม่ได้ กรุณาแจ้งพร้อม:

- Screenshot หน้าจอ
- เบราว์เซอร์ที่ใช้ (Safari/Chrome)
- ระบบปฏิบัติการ (iOS/Android)
- ข้อความ error (ถ้ามี)

---

## ✅ สิ่งที่ควรทำงาน

หลังจากแก้ไขแล้ว:

1. ✅ กดรับงาน Shopping order ได้
2. ✅ Status เปลี่ยนเป็น "matched" ทันที
3. ✅ หน้ารายละเอียดแสดงข้อมูลถูกต้อง
4. ✅ เห็นรายการสินค้า
5. ✅ เห็นที่อยู่ร้านค้า
6. ✅ เห็นที่อยู่จัดส่ง
7. ✅ ปุ่ม "เริ่มซื้อของ" ทำงานได้

---

## 🎯 ขั้นตอนถัดไป

หลังจากทดสอบรับงานสำเร็จแล้ว:

1. กดปุ่ม **"เริ่มซื้อของ"**
2. ระบบจะเปลี่ยน status เป็น `shopping`
3. คุณจะเห็นหน้าจอสำหรับซื้อของ (กำลังพัฒนา)

---

## 📞 ติดต่อ

ถ้ามีปัญหาหรือคำถาม กรุณาแจ้งทีมพัฒนา

---

**อัพเดทล่าสุด**: 2026-01-27 10:25:00  
**สถานะ**: ✅ พร้อมทดสอบ
